<!DOCTYPE html>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<!-- meta moved to override a combatibility mode issue http://stackoverflow.com/questions/13896176/force-ie8-or-ie9-document-mode-to-standards -->


<!--[if lt IE 7]>      <html class="ie6">    <![endif]-->
<!--[if IE 7]>         <html class="ie7">    <![endif]-->
<!--[if IE 8]>         <html class="ie8">    <![endif]-->
<!--[if IE 9]>         <html class="ie9">    <![endif]-->
<!--[if gt IE 9]>      <html class="ie10+">  <![endif]-->
<!--[if !IE]><!-->     <html>                <!--<![endif]-->

    <head>
        <meta charset="utf-8">
        <meta id="metaViewport" name="viewport" content="target-densitydpi=device-dpi, width=1024, height=device-height, initial-scale=1.0,maximum-scale=1.0, user-scalable=no">

        <title>Texas 2040 - the future is in your hands</title>

        <!-- style -->
        <link rel="stylesheet" type="text/css" href="css/normalize.css" />
        <link rel="stylesheet" type="text/css" href="css/kube.css" />
        <link rel="stylesheet" type="text/css" href="css/animate.css" />
        <link rel="stylesheet" type="text/css" href="css/game.css" />


        <!--[if gte IE 9]>
          <style type="text/css">
            .gradient { filter: none; }
          </style>
        <![endif]-->

        <!-- scripts -->
        <!-- blaze framework scripts -->
        <script type="text/javascript" src="blaze/build/blaze.dependencies.js"></script>
        <script type="text/javascript" src="src/vendor/lettering.js"></script>
        <script type="text/javascript" src="src/vendor/jquery.touchSwipe.js"></script>
        <script type="text/javascript" src="src/vendor/howler.js"></script>

        <script type="text/javascript" src="blaze/build/blaze.core.js"></script>
        <script type="text/javascript" src="blaze/build/blaze.mixins.js"></script>

        <!-- debug
        <script type="text/javascript" src="blaze/debug/blaze.debug.js"></script>
        <script type="text/javascript" src="blaze/debug/panels/blaze.debug.labels.js"></script>
        <script type="text/javascript" src="blaze/debug/panels/blaze.debug.configs.js"></script>
        <script type="text/javascript" src="blaze/debug/panels/blaze.debug.log.js"></script>

        <script type="text/javascript" src="src/game.debug.js"></script>
        <link rel="stylesheet" type="text/css" href="blaze/debug/blaze.debug.css" />-->

        <script type="text/javascript" src="src/vendor/jquery.xml2json.js"></script>
        <script type="text/javascript" src="src/game.js"></script>

        <script type="text/javascript">
        var gameWidth = 1890;
        var gameHeight = 1080;
        var newHeight = 0;
        var wTrans = 0;
        var hTrans = 0;
        var scale = '';

        $(window).on('resize', function(e) {
            wTrans = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
            hTrans = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;

            if(newHeight < hTrans) {
                scale = (wTrans/gameWidth);
            } else {
                scale = (hTrans/gameHeight);
            }
            $('#GameFrame').css({'transform' : 'scale('+scale+') rotate(0.02deg)', 'transformOrigin' : 'top left'});

            var nh = $('#GameFrame')[0].getBoundingClientRect();
            newHeight = nh.height;
        });
        window.onload = function () {
            (function () {
                var a = document.getElementById('GameFrame');
                if (a) {
                    wTrans = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
                    hTrans = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
                    scale = (wTrans/gameWidth);
                    $('#GameFrame').css({'transform' : 'scale('+scale+') rotate(0.02deg)', 'transformOrigin' : 'top left'});

                    var nh = $('#GameFrame')[0].getBoundingClientRect();
                    newHeight = nh.height;

                    if(newHeight < hTrans) {
                        scale = (wTrans/gameWidth);
                    } else {
                        scale = (hTrans/gameHeight);
                    }
                    $('#GameFrame').css({'transform' : 'scale('+scale+') rotate(0.02deg)', 'transformOrigin' : 'top left'});

                } else {
                    setTimeout(arguments.callee, 50);
                }
            }());
        };
        </script>

        <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-69406627-1', 'auto');
        ga('send', 'pageview');
        </script>

    </head>
    <body>
        <script type="text/javascript">
            $(function() {
                var game = new Blaze.dna.Game();
            });

            document.addEventListener("contextmenu", function(e){
                e.preventDefault();
            }, false);

        </script>
        <!--<div style="position:absolute;bottom:0;left:0;z-index:1;background:#ff0000;width:100%;height:119px"></div>-->
    </body>
</html>
